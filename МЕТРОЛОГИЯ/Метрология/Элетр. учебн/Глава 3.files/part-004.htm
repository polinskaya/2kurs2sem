<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0053)http://www.hi-edu.ru/e-books/xbook119/01/part-004.htm -->
<HTML><HEAD><TITLE>Электронные издания:</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1251">
<META http-equiv=Content-Language content=ru><LINK 
href="part-004.files/main.css" type=text/css rel=stylesheet>
<SCRIPT src="part-004.files/fmtscr.js"></SCRIPT>

<SCRIPT src="part-004.files/eillustration.js"></SCRIPT>

<SCRIPT src="part-004.files/litlist.js"></SCRIPT>

<SCRIPT src="part-004.files/fragments.js"></SCRIPT>

<META content="MSHTML 6.00.2600.0" name=GENERATOR></HEAD>
<BODY class=глава><IFRAME id=ifr name=ifr src="about:blank" frameBorder=0 
width="100%" height=0></IFRAME>
<SCRIPT event=onload for=window>
 top.document.title=document.title;
 chid="part-004";

 chnum=4;
 chkurl();
 doStart(sa);
</SCRIPT>

<DIV class=глава id=sa>
<P><A name=i1129></A></P>
<DIV class=заголовок>
<DIV class=заголовок1>
<DIV class=заголовок1нур>3.</DIV>
<DIV class=заголовок1текст>глава III. Мультимедийный документ и форматы 
представления его элементов</DIV></DIV></DIV>
<P></P>
<DIV class=поля style="MARGIN-LEFT: 10%; MARGIN-RIGHT: 10%">
<P>Данная глава посвящена рассмотрению состава мультимедийного документа и 
представления отдельных его компонентов. В частности, описываются различные 
варианты представления текстовой и графической информации. Указаны наиболее 
популярные графические форматы, используемые в электронных изданиях. Описаны 
возможные форматы представления аудиофайлов, особенности кодирования и сжатия 
соответствующих данных. В заключение анализируются форматы анимационных файлов и 
цифрового видео и варианты ком-прессии соответствующих данных.</P></DIV>
<P><A name=i1131></A></P>
<DIV class=заголовок>
<DIV class=заголовок2>
<DIV class=заголовок2нур>3.1.</DIV>
<DIV class=заголовок2текст>Мультимедиа и ее роль в современных информационных 
технологиях</DIV></DIV></DIV>
<P></P>
<P><A name=i1132></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1132"><IMG 
class=иконка alt=Мультимедиа src="part-004.files/predmetnyi.gif" 
border=0></A><SPAN class=опред-е>Мультимедиа</SPAN> сейчас - это полноценное 
объединение компьютерных и других информационных технологий: видео, аудио, фото, 
кино, телекоммуникаций (телефон, телевидение, радиосвязь), не говоря уже о 
тексте и графике, как статической, так и динамической (анимационной). С помощью 
приложений мультимедиа текст, графика, аудио- и видеоинформация объединяются в 
единое информационное поле, подобно тому как в кинофильме объединяются звук и 
движущееся изображение. Однако в отличие от кинофильма мультимедиа представляет 
собой интерактивную среду, т.&nbsp;е. пользователь может управлять процессом 
представления мультимедиа с помощью различных средств ввода, таких как 
клавиатура и манипулятор мышь.</P>
<P>Успешное сращивание телекоммуникационных сетей с компьютерами, стремительный 
рост их качества и количества преобразует вещательные сети в интерактивные, 
создает единое мировое информационное мультимедиа-пространство. Важнейшей частью 
этого пространства является сеть <A name=i1135></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1135"><IMG 
class=иконка alt=Интернет src="part-004.files/predmetnyi.gif" 
border=0></A>Internet и особенно, ее гипермедиа-система World Wide Web. 
Распространение мультимедиа-технологий (в сочетании с развитием электронной 
коммерции) в дальнейшем наложит жесткие ограничения на конкурентоспособность 
издательско-полиграфических фирм, ориентированных на широкий спрос. Преимущества 
в продаже даже самой высококачественной продукции получат те, кто быстрее и 
эффективней освоил электронные способы коммерции и обслуживания.</P>
<P>Использование мультимедиа в учебных пособиях дополняет аналитические 
(вычислительные и логические) и навигационные возможности компьютеров 
способностью к образному, синтетическому описанию изучаемого предмета или 
объекта. Многочисленные исследования показали, что обучаемый с первого раза 
запоминает лишь четверть услышанного и треть увиденного, при комбинированном 
воздействии на слух и зрение запоминается приблизительно половина информации, а 
при вовлечении обучаемого еще и в активные действия (например, при использовании 
интерактивных мультимедиа-технологий) доля усвоенного достигает 75%. 
Мультимедиа, особенно интерактивное, активизирует индивидуальные, личностные 
мотивы усвоения материала студентом, в том числе:</P>
<UL class=маркер>
  <LI class=элемент>
  <P>целевой (для меня важно и необходимо знать этот материал и уметь выполнять 
  такую работу);</P>
  <LI class=элемент>
  <P>исследовательский (работая с учебным материалом, я не только узнаю что-то 
  новое, но и чувствую себя активным участником процесса познания, сам участвую 
  в творческом процессе);</P>
  <LI class=элемент>
  <P>эмоционально-эстетический (в процессе изучения материала я испытываю 
  удовольствие как от получаемых результатов, так и от самого процесса изучения 
  этого материала);</P>
  <LI class=элемент>
  <P>игровой (эта форма обучения интересна, начав изучать материал, я не могу 
  остановиться, мне интересно и хочется довести до конца изучение 
материала);</P>
  <LI class=элемент>
  <P>инициационный (предполагает органичное сочетание в мультимедийном учебнике 
  информационной и эстетически-эмоциональной глубины).</P></LI></UL>
<P>По уровню творческих мотивов и степени воздействия на человека мультимедиа 
следует отнести к новому виду синтетического искусства, отличительной 
особенностью которого является высокая информативность и интерактивность. 
Поэтому в будущем следует ожидать создания теории педагогики мультимедиа, 
учитывающей психофизиологические и эстетические законы восприятия и усвоения 
большого объема информации. Не исключая традиционной формы обучения, 
предполагающей творческое и воспитательное общение с преподавателем, мультимедиа 
создает новые позитивные факторы, в частности, значительный рост эффективности 
обучения за счет повышения качества самостоятельной работы студента с 
электронными учебными материалами.</P>
<P>Специалисты считают, что самую сложную систему автоматизированного управления 
было бы гораздо легче освоить в том случае, если она реализована на основе 
стандартного мультимедиа-интерфейса. В будущем, видимо, будут созданы 
эвристические алгоритмы мультимедиа, которые позволят не только человеку 
адаптироваться в компьютерной системе, но и компьютеру адаптироваться к уровню 
восприятия человека, т.&nbsp;е. сделать процесс адаптации двусторонним.</P>
<P><A name=i1143></A></P>
<DIV class=заголовок>
<DIV class=заголовок2>
<DIV class=заголовок2нур>3.2.</DIV>
<DIV class=заголовок2текст>Форматы представления текстовых блоков электронного 
издания</DIV></DIV></DIV>
<P></P>
<P>Еще несколько лет тому назад ответ на поставленный в заголовке данного 
параграфа вопрос был предельно прост: текстовые блоки должны быть в <A 
name=i1144></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1144"><IMG 
class=иконка alt="HTML формат" src="part-004.files/predmetnyi.gif" 
border=0></A>гипертекстовом (HTML) формате или же в <A name=i1145></A><A 
class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1145"><IMG 
class=иконка alt="PDF (Portable Document Format)" 
src="part-004.files/predmetnyi.gif" border=0></A>формате PDF, так как только эти 
форматы поддерживали возможность включения в электронное издание мультимедийных 
компонентов. В настоящее время практически все верстальные пакеты поддерживают 
не только преобразование подготовленного издания в формат РОР (или HTML), ной 
подключение к изданию мультимедиа-компонентов. В частности, в программном пакете 
PageMaker фирмы <A name=i1146></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/companii.htm#i1146"><IMG 
class=иконка alt="Adobe Systems" src="part-004.files/companii.gif" 
border=0></A>Adobe предусмотрена в секции меню «Сервис» команда «Дополнения 
/QuickTime Media» (рис.&nbsp;3.1<IMG class=иконка 
onclick="openimgindex('../files/ris_3_1.gif','Рис. 03.01.','#E8E8E6')" 
alt="Рис. 03.01." src="part-004.files/illustration.gif" border=0>), которая 
обеспечивает подключение к электронному документу объекта в универсальном 
формате QuickTime, который позволяет работать с любой времязависимой 
информацией, начиная от аудиоданных и кончая фильмами с несколькими видео-и 
аудиодорожками.</P>
<P>В широко распространенном в нашей стране текстовом редакторе Microsoft Word, 
начиная с версии 1997 г., предусмотрена возможность включения в состав документа 
не только анимации в формате GIF, но также и видеофильма в формате QuickTime, 
видеоклипа в формате AVI, клипа мультимедиа. На рис.&nbsp;3.2<IMG class=иконка 
onclick="openimgindex('../files/ris_3_2.gif','Рис. 03.02.','#E8E8E6')" 
alt="Рис. 03.02." src="part-004.files/illustration.gif" border=0> показано 
диалоговое окно для команды «Вставка/Объект», которая иллюстрирует сделанное 
утверждение. Кроме того, принятый в этой версии редактора формат DOC стал в 
полной мере гипертекстовым, так как в нем появилась возможность включать в 
документ гипертекстовые ссылки как внутренние, для чего в документе делаются 
специальные закладки, так и внешние - по URL-адресу любого другого документа. В 
редакторе добавлена также возможность преобразования исходного документа в 
формат HTML, а также создания специальных HTML-форм. Часть этих возможностей 
представлена и усовершенствована в новой версии редактора - MS Word 2000.</P>
<P>Таким образом, наряду с форматом HTML и PDF (последний, строго говоря, хранит 
текст в графическом формате), текстовые блоки электронных изданий могут быть 
представлены в <A name=i1151></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1151"><IMG 
class=иконка alt="Форматы электронных изданий" 
src="part-004.files/predmetnyi.gif" border=0></A>форматах DOC (MS Word), P65 
(Adobe PageMaker) и многих др.</P>
<P>В том случае, когда электронное издание не содержит мультимедиа-компонентов, 
то оно может храниться в формате любого текстового редактора или верстального 
пакета; единственное дополнительное требование к текстовому редактору состоит в 
том, что он должен поддерживать графические форматы рисунков, если они включены 
в текст издания.</P>
<P>Для чисто текстовых изданий ограничений еще меньше. Их можно хранить и 
распространять в любом текстовом формате, используемом в современных 
персональных компьютерах. В частности, может использоваться форматТХТ (в том 
числе «простой текст» или plain text), гораздо более экономичный, чем формат 
DOC. Для кодирования любого символа такого текста используется всего один байт. 
Пример такой кодировки представляет <A name=i1152></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1152"><IMG 
class=иконка 
alt="American Standart Code for Information Interchange (ASCII) - Американский стандартный код для обмена информацией" 
src="part-004.files/predmetnyi.gif" border=0></A>American Standart Code for 
Information Interchange (ASCII) - Американский стандартный код для обмена 
информацией. Для языков на основе латиницы и кириллицы такое кодирование вполне 
удовлетворительно.</P>
<P>Однако для некоторых восточных языков, например китайского или японского, 
этот подход неприменим, так как разнообразие символов в этих языках многократно 
превышает 256 - предельное значение этого параметра в ASCII-стандарте. В 
последние годы все более прочные позиции приобретает стандарт Unicode, или ISO 
10646, т.&nbsp;е. стандарт под номером 10646 Международной организации по 
стандартизации (International Organization for Standartization). В этом 
стандарте каждый символ кодируется уже 2 байтами, т.&nbsp;е. предельное 
разнообразие символов достигает значения 65536. Этот стандарт часто называют 
стандартом многоязыковой поддержки, так как он позволяет кодировать символы 
государственных языков всех стран нашей планеты.</P>
<P>Однако в ТХТ-формате электронное издание не удовлетворяет даже самым скромным 
эстетическим запросам, так как в нем нет возможности использования не только 
графики, но даже шрифтов различного начертания, заголовков и подзаголовков, 
примечаний и других элементов, которые в совокупности называют «разметкой 
текста» (markup).</P>
<P>Из языков разметки текста помимо HTML, рассмотренного в предыдущей главе, 
наибольшее распространение получили:</P>
<UL class=маркер>
  <LI class=элемент>
  <P>TROFF, применяющийся при оформлении документации в рамках операционной 
  системы UNIX и различных ее версий, включая LINUX;</P>
  <LI class=элемент>
  <P>ТЕХ, который широко используется для подготовки изданий с большим 
  количеством математических формул;</P>
  <LI class=элемент>
  <P>SGML (Standart Generic Markup Language).</P></LI></UL>
<P>Исходная программа форматирования электронных документов в системе UNIX 
называлась ROFF (от Run OFF - тиражирование). TROFF означает Typesetting ROFF, 
т.&nbsp;е. форматирование текста для принтеров с высоким разрешением и 
фотонаборных устройств. Хотя область распространения этого языка и 
поддерживающих его программ постепенно сужается, в США он продолжает 
использоваться для создания электронных отчетов, которые могут одинаково успешно 
выводится на терминалах с низким разрешением и распечатываться с полиграфическим 
качеством.</P>
<P>Система верстки и язык ТЕХ был разработан хорошо известным среди 
программистов и математиков профессором Дональдом Кнутом для подготовки книг и 
пособий по математическим дисциплинам. ТЕХ работает на различных аппаратных и 
программных платформах. Его можно отыскать в сети Интернети бесплатно перенести 
паевой компьютер. Имеются и коммерческие версии этого продукта, в частности для 
платформы Macintosh фирмы Apple. Отметим, что помимо математических книг на этом 
языке издаются различные академические журналы, в том числе и в нашей 
стране.</P>
<P>Язык SGML реализует принцип логической разметки текста, который позволяет 
разграничить содержимое издания и его электронное представление. Именно этим 
принципом руководствовались специалисты фирмы</P>
<P>IBM, создавшие этот язык, который с 1986 г. получил статус международного 
стандарта. Кстати, HTML был создан именно на основе SGML. Основное достоинство 
языка SGML состоит в его универсальности независимости от программных средств 
для его интерпретации. Этот формат может быть конвертирован в форматы TROFF или 
ТЕХ. Язык изначально создан для производственных нужд, связанных с длительным 
хранением электронных документов большого объема, таких как описания крупных 
проектов или их документация.</P>
<P>Большинство из перечисленных текстовых форматов можно встретить в 
многочисленных «Электронных библиотеках», представленных в сети Интернет, о чем 
подробнее будет сказано в главе 8. Для ускорения загрузки таких изданий на 
компьютер пользователя они нередко представлены в архивированном виде, для чего 
чаще всего используются программы-архиваторы ARJ, ZIP и RAR, работающие в DOS'e, 
и WINZIP и WINRAR, предназначенные для работы в оболочке Windows.</P>
<P>Специальные языки разметки страниц в будущем будут активно развиваться. Одна 
из причин этого связана с автоматизацией извлечения информации из подготовленных 
электронных изданий. Такая операция обязательно производится для облегчения 
поиска информации, в частности, в сети Интернет. Для изданий, в производстве 
которых использованы принципы логической разметки и языки разметки страниц, 
многократно повышается эффективность поиска ключевых слов и выражений, адекватно 
отражающих содержание этих изданий.</P>
<P><A name=i1160></A></P>
<DIV class=заголовок>
<DIV class=заголовок2>
<DIV class=заголовок2нур>3.3.</DIV>
<DIV class=заголовок2текст>Форматы представления графической 
информации</DIV></DIV></DIV>
<P></P>
<P>Без <A name=i1161></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1161"><IMG 
class=иконка alt=Иллюстрации src="part-004.files/predmetnyi.gif" 
border=0></A>иллюстраций любое издание выглядит однообразно. Хорошо подобранная 
и рационально размещенная в издании графика не только улучшает дизайн издания, 
но и делает его значительно более информативным для читателя, помогает лучше 
передать его содержание и даже суть. Однако графика требует значительного 
информационного пространства для своего размещения, с чем связаны основные 
ограничения ее использования.</P>
<P>Известны два способа описания компьютерного изображения: точечный 
(растровый), при котором изображение формируется из отдельных точек, и векторный 
(контурный), где изображение состоит из отдельных объектов, ограниченных 
замкнутыми или незамкнутыми контурами, каждый из которых представляет собой 
сочетание отдельных отрезков прямых линий (векторов) и кривых (дуги окружностей, 
фрагменты параболических кривых и кубических сплайнов) линий. Каждый такой 
графический объект можно перемещать, масштабировать, вращать без потери качества 
изображения и независимо от любых других объектов.</P>
<P>Векторные файлы содержат математическое описание всех элементов изображения, 
которое используется программой визуализации для их отображения на экране 
монитора. Таким образом, сам процесс отображения информации требует определенных 
вычислительных мощностей для преобразования математического описания объектов в 
растровый формат монитора. Векторная графика характеризуется рядом положительных 
черт, к числу которых можно отнести следующие:</P>
<OL type=l>
  <LI class=элемент>
  <P>Экономичность хранения изображений, т.&nbsp;е. сравнительно небольшие 
  размеры графических файлов, хранящих изображение в векторном формате.</P>
  <LI class=элемент>
  <P>Легкость трансформации и манипулирования отдельными графическими объектами 
  (и всем изображением в целом).</P>
  <LI class=элемент>
  <P>Максимальное использование разрешающей способности выводного устройства, с 
  помощью которого осуществляется визуализация цифрового изображения, так как 
  величина разрешения обычно в графическом файле непосредственно не задана.</P>
  <LI class=элемент>
  <P>Простота интеграции с текстом, который состоит из отдельных символов, 
  формируемых преимущественно контурным методов (например, элементы 
  TrueType-шрифтов и шрифтовые объекты в формате PostScript).</P></LI></OL>
<P>Простейшие форматы векторного типа реализованы в электронных таблицах, 
используемых в пакетах Lotus 1-2-3 и Excel. Большинство же векторных форматов 
разработано для хранения чертежей, созданных программами САПР (Систем 
Автоматизированного Проектирования). В издательском деле и полиграфии к наиболее 
распространенным можно отнести формат PostScript, используемый для описания 
сверстанных страниц в фотонаборных автоматах и лазерных принтерах.</P>
<P>С точки зрения живописности и реалистичности изображения векторная графика 
имеет весьма ограниченные возможности, поэтому в издательском деле шире 
используется растровое представление. В случае применения векторной графики 
определенные трудности возникают и с автоматизацией ввода графического 
изображения в компьютер или оцифровкой изображения. Сканеры, цифровые фото- и 
видеокамеры хранят оцифрованное изображение в растровых форматах.</P>
<P>Точечная, или растровая, графика исторически стала применяться значительно 
раньше векторной. К ней можно отнести художественные изображения мозаичного 
типа: смальту, мозаику и даже вышивку. Таким образом, к ней относят изображения, 
полученные из мельчайших отдельных элементов, каждый из которых неделим и 
описывается постоянством тона на всем своем протяжении. Такие элементы принято 
называть пикселами (это понятие мы уже упоминали в <A class=переход 
href="http://www.hi-edu.ru/e-books/xbook119/01/part-003.htm#i138">главе 2</A>). 
Каждый такой пиксел формально независим от соседних, т.&nbsp;е. может иметь 
различные характеристики: яркость, цветовой тон, насыщенность цвета и 
прочее.</P>
<P>К достоинствам точечной графики можно отнести следующие факторы:</P>
<UL class=маркер>
  <LI class=элемент>
  <P>простота и легкость ввода (оцифровки) изображений;</P>
  <LI class=элемент>
  <P>удобство технической реализации вывода информации (на монитор, лазерный или 
  струйный принтер и т. д.);</P>
  <LI class=элемент>
  <P>реалистичность изображения;</P>
  <LI class=элемент>
  <P>возможность получения тонких живописных эффектов, таких как туман, тонкие 
  цветовые переходы и нюансы цвета, перспектива изображения, размытость и 
  нерезкость и пр.</P></LI></UL>
<P>Однако и недостатки точечной графики существенны. К основным из них 
относятся:</P>
<UL class=маркер>
  <LI class=элемент>
  <P>необходимость точных установок параметров до начала создания графического 
  изображения, в частности, задания количества точек на единицу длины 
  изображения, размера изображения по каждой координате, а также глубины цвета - 
  количества бит для цветового представления каждого отдельного пиксела;</P>
  <LI class=элемент>
  <P>большой информационный объем получаемого графического файла, который 
  определяется произведением трех величин: площади изображения, разрешающей 
  способности и глубины цвета в согласованных единицах измерения, например, 
  максимальное разрешение в пакете PhotoShop составляет 10000 пиксел/дюйм при 
  максимальном значении 30000 пикселов по каждой координате, чему соответствуют 
  размеры файлов до нескольких сотен Мб;</P>
  <LI class=элемент>
  <P>при повороте и других трансформациях изображения составляющие его 
  горизонтальные и вертикальные линии превращаются в ступенчатые, т.&nbsp;е. 
  обязательно появляются искажения при трансформациях изображения.</P></LI></UL>
<P>Важной характеристикой любого изображения, в частности растрового, является 
глубина цвета. Самое простое изображение использует два уровня серого, 
т.&nbsp;е. черный и белый. На цветовое описание элемента такого изображения 
(пиксела) требуется лишь 1 бит. Следующий вариант использует множество уровней 
серого, обычно 256, в результате чего каждый элемент изображения кодируется 1 
байтом. Цветные изображения также могут быть различных типов.</P>
<P>В некоторых графических файлах используют так называемые индексированные 
цвета. В этом случае количество цветовых оттенков обычно не превышает 256, 
причем все они хранятся в самом графическом файле в виде палитры цветовых 
оттенков и каждый возможный цветовой тон в изображении соответствует одному из 
элементов этой палитры. Общее разнообразие или глубина цвета равна, как и в 
предыдущем случае, 8 битам, или 1 байту. Кстати, индексированные цвета 
используются и в оболочке Windows в виде встроенной палитры цветов, с которой мы 
еще не раз встретимся в рамках данного учебника.</P>
<P>Наконец, так называемое полноцветное изображение (True color) чаще всего 
работаете RGB-цветовом пространстве и использует! байт на каждый из трех 
основных цветовых компонент (красная, зеленая и синяя), т.&nbsp;е. общая глубина 
цвета равна 24 битам, или 3 байтам. При таком представлении количество различных 
цветовых оттенков превышает 16 миллионов. В некоторых графических файлах 
используется даже 48-битная глубина цвета. В этом случае каждый основной цвет 
представляется 16 битами или 65576 различными уровнями, а общее число различных 
цветовых оттенков выражается фантастической величиной, превышающей 
2,6-10<SUP>14</SUP>.</P>
<P>Для электронных изданий, зачастую распространяемых по сетям, информационный 
объем представляет собой очень важную характеристику. Понятно поэтому стремление 
использовать векторные форматы или же специальные растровые форматы с внутренним 
сжатием информации для представления графических файлов. Кратко остановимся на 
методах и средствах сжатия изображений.</P>
<P>Существует две группы методов сжатия изображений: без потерь и с потерями. В 
первом случае при распаковке сжатого графического файла полностью 
восстанавливается вся исходная информация, в том числе, цветовой оттенок каждого 
отдельного пиксела. Во втором же - часть информации теряется, т.&nbsp;е. 
изображение становится несколько менее качественным, некоторые мелкие его детали 
утрачиваются. Во многих случаях это вполне допустимо, так как человеческий глаз 
различает, в лучшем случае, лишь несколько тысяч оттенков цвета и не реагирует 
на мел кие детали изображения (разрешение глаза близко к одной угловой минуте, 
откуда при нормальном расстоянии до изображения в 25-30 см можно подсчитать 
величину линейного разрешения глаза, которая близка к 90-100 мкм).</P>
<P>Большинство методов сжатия без потерь основано на варианте группового 
кодирования (Run-Length Encoding - RLE). Идея такого метода заключается в том, 
что последовательности повторяющихся значений заменяются на пару чисел, первое 
из которых дает количество повторяющихся</P>
<P>значений, а второе - само это значение. В описаниях многоцветных изображений 
очень часто соседние пикселы характеризуются одними и теми же тоновыми и 
цветовыми характеристиками, что и обеспечивает эффективность такого сжатия <IMG 
class=иконка 
onclick="showlitlist(new Array('Мюррей Джеймс Д., Райпер Уильям вам. Энциклопедия форматов графических файлов.- Киев: BHV-Киев, 1997.',''));" 
alt="ссылка на источники литературы" src="part-004.files/litlist.gif">.</P>
<P>Схема сжатия без потерь Лемпела-Зива-Велча (LZW) в последние годы 
используется все шире и шире. Она позволяет работать сданными любого типа, 
обеспечивая достаточно быстрое сжатие и распаковку данных. Этот алгоритм 
называют алгоритмом подстановок или алгоритмом сжатия словарного типа. На основе 
входного потока данных алгоритм формирует словарь данных (его также называют 
переводной таблицей или таблицей строк). Образцы новых данных сравниваются с 
записями словаря. Если они там не представлены, то создается новая кодовая 
фраза. Если строка повторно встречается во входном потоке, то в выходной поток 
записывается ссылка на соответствующую строку словаря, которая имеет меньшую 
величину, чем исходный фрагмент данных. Таким образом реализуется сжатие 
информации.</P>
<P>Декодирование LZW-данных производится в обратном порядке. Декомпрессор читает 
код из потока данных и, если этого кода еще нет в словаре, добавляет его туда. 
Затем этот код переводится в строку, которую он представляет, и заносится в 
выходной поток несжатых данных.</P>
<P>Ряд графических форматов, в том числе и один из базовых - TIFF - используют в 
своих современных версиях встроенное LZW-сжатие. В частности, этот формат 
использован для представления рисунков в данной книге. Достоинством этого метода 
для графических файлов является хорошее сжатие данных для любой глубины 
представления цвета, начиная от штриховых и кончая полноцветными изображениями. 
В частности, такое сжатие успешно используется в формате GIF с индексированными 
цветами (глубина цвета 8 бит). Оба эти формата будут описаны в данном 
разделе.</P>
<P>В других случаях используется сжатие с регулируемой величиной потерь и 
переменным коэффициентом сжатия. Чем больше величина потерь, тем больше и 
коэффициент сжатия. Программа сжатия обычно делит все изображение на блоки 
размером 8x8 пикселов каждый. Уменьшение сжимаемого фрагмента позволяет 
уменьшить пропорционально квадрату его линейных размеров время обработки, 
т.&nbsp;е. деление на фрагменты эффективно увеличиваетскорость преобразования. 
Далее к значениям пикселов применяется формула, называемая дискретным косинусным 
преобразованием. Оно преобразует матрицу пикселов в матрицу значений амплитуд 
пространственного спектра изображения.</P>
<P>Значения элементов полученной матрицы характеризуют различные составляющие 
спектра: левый верхний угол результирующей матрицы соответствует самым низким 
частотам пространственного спектра, а правый нижний - самым высоким. Коэффициент 
качества преобразования, введенный предварительно пользователем, используется 
при получении значений элементов матрицы квантования. Чем ниже коэффициент 
качества, тем большие будут значения у элементов последней матрицы. Далее каждый 
элемент матрицы амплитуд делится на соответствующий элемент матрицы квантования. 
Полученные в итоговой матрице значения округляются до ближайшего целого числа. В 
результате таких операций в правой нижней части итоговой матрицы будет тем 
больше нулевых элементов, чем ниже заданный пользователем коэффициент качества. 
Затем программа сжатия кодирует элементы последней матрицы, начиная от левого 
верхнего по строке до правого нижнего одним из методов кодирования без потерь, 
причем чем больше нулей в последней матрице, тем меньше окажется информационный 
объем сжатого файла. Величина коэффициента сжатия для этого метода изменяется в 
пределах от 10 до 100 в зависимости от заданного значения коэффициента 
качества.</P>
<P>Декодирование сжатого описанным методом файла изображения начинается с шага 
обратного преобразования без потерь, в результате чего восстанавливается 
заключительная матрица, в которой содержится ряд нулевых элементов в правой 
нижней части. Затем значения элементов этой матрицы домножаются на элементы 
матрицы квантования, хранимой в самом сжатом файле. В результате получим 
восстановленную матрицу амплитуд пространственного спектра, значения которой 
отличаются отэлемен-тов исходной (они округлялись до целого значения в процессе 
сжатия с потерями), что и определяет отличия восстановленного изображения от 
исходного. Далее применяется обратное косинусное преобразование, в результате 
чего получим восстановленную матрицу значений пикселов, размер которой 
по-прежнему 8x8. В результате потери высокочастотных составляющих 
восстановленное изображение будет выглядеть более блеклым и размытым по 
сравнению с исходным.</P>
<P>Далее остановимся на основных форматах графических файлов. Самым 
универсальным графическим форматом является TIFF, разработанный известной в 
компьютерном мире фирмой <A name=i1187></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/companii.htm#i1187"><IMG 
class=иконка alt=Aldus src="part-004.files/companii.gif" border=0></A>Aldus для 
хранения оцифрованных изображений больших размеров и высокого разрешения (в 1999 
г. эта фирма вошла в состав еще более крупной фирмы <A name=i1188></A><A 
class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/companii.htm#i1188"><IMG 
class=иконка alt="Adobe Systems" src="part-004.files/companii.gif" 
border=0></A>Adobe, хорошо известной среди дизайнеров, издателей и полиграфистов 
всего мира своими программными пакетами для обработки растровой и векторной 
графики). Формат подходит для профессиональной работы художников с графикой и 
для факсимильной связи и передачи изображения, размером до несколько страниц. 
Формат обладает универсальностью и высокой гибкостью и хранит графические данные 
в структурированном виде, что позволяет графическим приложениям осуществлять 
быстрый поиск и загрузку нужных фрагментов изображения. В нем используется как 
полно-цветовое представление, так и представление с индексированными цветами. Он 
часто применяется для обмена различными типами графики. Однако размер 
графических файлов, представленных в этом формате, велик, что препятствует его 
использованию в электронных изданиях. Этот недостаток компенсируется в последних 
версиях формата применением эффективного встроенного LZW-сжатия, о котором было 
сказано выше.</P>
<P><A name=i1189></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1189"><IMG 
class=иконка alt="Graphic Interchange Format (GIF)" 
src="part-004.files/predmetnyi.gif" border=0></A>Graphic Interchange Format 
(GIF) компьютерной информационной службы <A name=i1190></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/companii.htm#i1190"><IMG 
class=иконка alt=CompuServe src="part-004.files/companii.gif" 
border=0></A>CompuServe является одним из наиболее употребительных растровых 
форматов в электронных, в особенности сетевых, изданиях. Он был создан для 
упрощения обмена данными в локальных компьютерных сетях, при возможности 
отображения этих данных. Основных достоинств у формата два:</P>
<UL class=маркер>
  <LI class=элемент>
  <P>пригодность для различных платформ, т.&nbsp;е. формат является 
  платформно-независимым;</P>
  <LI class=элемент>
  <P>малый размер файлов благодаря использованию мощного алгоритма сжатия без 
  потерь.</P></LI></UL>
<P>Изображение записывается в этом формате с использованием RGB-цветовой модели 
и данных встроенной в файл палитры индексированных цветов. К сожалению, 
серьезным ограничением для этого формата является ограниченная глубина цвета, не 
превышающая 8 бит на пиксел. Важное достоинство этого формата состоит в том, что 
он позволяет хранить в одном файле несколько изображений. Современная версия 
GIF89a решила проблему обработки таких изображений, размещенных в одном файле, с 
помощью дополнительно включенного в файл блока управления графикой. Этот блок 
позволяет программе просмотра организовать взаимодействие каждого последующего 
изображения с текущим, что и обеспечило создание широко распространенных 
анимационных GIF-файлов.</P>
<P>Графические данные в этом формате могут храниться как последовательно, строка 
за строкой, так и в формате, чередующем строки. В последнем случае рисунок 
первоначально строится на основе 1/8 части от общего описания, а в дальнейшем 
изображение «прорисовывается» все четче и четче.</P>
<P>Растровый формате глубиной представления цвета до 48 битс использованием той 
же RGB-модели создан специальной группой разработчиков и получил название PNG 
(Portable Network Graphic - переносимый сетевой формат), что произносят как 
«пинг». Формат PNG изначально планировался как замена формату GIF, но с 
улучшенными возможностями представления цвета. Он, как и GIF, поддерживает 
чередование строк и ускоренную начальную загрузку файла. В нем используется 
улучшенный алгоритм сжатия информации. Кроме того, в формате поддерживается 
режим полупрозрачных корректирующих слоев, аналогичный используемым в векторном 
AI и растровом PSD форматах графических пакетов фирмы Adobe. Единственное 
ограничение формата PNG по сравнению с GIF состоит в невозможности хранения в 
одном файле нескольких изображений и, вследствие этого, отсутствии анимационных 
возможностей.</P>
<P>Рассмотренные выше графические форматы содержали внутреннюю компрессию без 
потерь информации. Еще один формат, который относят к числу самых 
употребительных, характеризуется регулируемой величиной сжатия в зависимости от 
допустимой потери качества изображения. Этот <A name=i1195></A><A 
class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1195"><IMG 
class=иконка alt="Joint Photographic Experts Group (JPEG)" 
src="part-004.files/predmetnyi.gif" border=0></A>формат разработан объединенной 
группой экспертов в области фотографии (Joint Photographic Experts Group) и 
назван аббревиатурой JPEG (расширение файлов JPG). Этот формат также растровый с 
глубиной цвета, равной 24 битам. Преимущественно используется цветовая модель 
HSL (Hue-Saturation-Lightness, или Оттенок-Насыщенность-Яркость). Алгоритм 
сжатия, используемый в таких файлах, носит название «алгоритм сжатия JPEG». Он 
был описан ранее в этом же разделе в качестве примера технологии сжатия с 
потерями в графических файлах. Различные его варианты использованы также при 
организации сжатия видеоданных (<A class=переход 
href="http://www.hi-edu.ru/e-books/xbook119/01/part-004.htm#i1231">см. § 
3.5</A>).</P>
<P>Графические программы, которые позволяют хранить данные в этом формате, 
обычно выводятспециальную линейку, на которой устанавливается значение параметра 
качества, изменяющегося в пределах от 0 до 10 (рис.&nbsp;3.3<IMG class=иконка 
onclick="openimgindex('../files/ris_3_3.gif','Рис. 03.03.','#E8E8E6')" 
alt="Рис. 03.03." src="part-004.files/illustration.gif" border=0>). Одновременно 
с непрерывным изменением коэффициента качества на линейке появляется дискретный 
параметр качества в форме целого числа в окне «Качество», а рядом в списковом 
окне - характеристика этого параметра. При значении от 0 до 2 качество «Низкое», 
3-5 - «Среднее», 6-7- «Высокое» и 8-10 - «Наивысшее». На рисунке значение 
коэффициента качества равно б и качество «Высокое». При сохранении изображения 
можно установить «Разновидность формата» в позицию «Progressive», при которой 
величина чередования строк устанавливается в пределах от 3 до 5, что 
обеспечивает быструю начальную загрузку изображения низкого качества в сетевых 
структурах.</P>
<P>Используемый в формате JPEG подход «сжатие с потерями» частично 
идентифицирует и удаляетту информацию, которая несущественна для восприятия 
изображения. Лишь при сжатии изображения с резко выраженными контурами линии 
начинают «дрожать». При высоких значениях коэффициента качества изображения этот 
эффект не проявляется. Возможно, в дальнейшем появится вариант формата с 
избирательной установкой коэффициента качества для различных фрагментов 
изображения, что позволит достигнуть высокого качества при очень высоких 
коэффициентах сжатия.</P>
<P>В заключение этого раздела укажем последовательность графических форматов в 
порядке убывания их популярности (или частоты применения) для электронных 
изданий и документов: GIF, JPEG, PNG, TIFF.</P>
<P><A name=i1199></A></P>
<DIV class=заголовок>
<DIV class=заголовок2>
<DIV class=заголовок2нур>3.4.</DIV>
<DIV class=заголовок2текст>Форматы представления аудиофайлов</DIV></DIV></DIV>
<P></P>
<P>В этом разделе речь пойдет о цифровых форматах, хранящих звук файлов. Иначе 
говоря, - о хранении оцифрованного звука. Напряжение, передаваемое по телефонным 
каналам и несущее звук, представляет собой аналоговый сигнал достаточно сложной 
формы. Чтобы преобразовать такой сигнал в цифровую форму, необходимо выполнить 
последовательно две операции: дискретизацию и квантование. <A name=i1200></A><A 
class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1200"><IMG 
class=иконка alt=Дискретизация src="part-004.files/predmetnyi.gif" 
border=0></A><SPAN class=опред-е>Дискретизация</SPAN> состоит в периодическом 
измерении значений напряжения (на рис.&nbsp;3.4<IMG class=иконка 
onclick="openimgindex('../files/ris_3_4.gif','Рис. 03.04.','#E8E8E6')" 
alt="Рис. 03.04." src="part-004.files/illustration.gif" border=0> дискретизация 
сигнала производится в моменты времени t<SUB>1</SUB>, . . , t<SUB>4</SUB>, . .), 
а <A name=i1206></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1206"><IMG 
class=иконка alt=Квантование src="part-004.files/predmetnyi.gif" 
border=0></A><SPAN class=опред-е>квантование</SPAN> - в преобразовании 
измеренных аналоговых значений в цифровой код. Соответственно, на качество 
оцифрованного звукового сигнала оказывают влияние два фактора: частота 
дискретизации и разрядность цифрового кода, получаемого при квантовании. При 
увеличении частоты дискретизации и разрядности кода качество оцифрованного звука 
улучшается, но пропорционально возрастает объем информации, которая должна 
храниться в файле, т.&nbsp;е. необходимо найти компромиссное решение между 
качеством и размерами файла.</P>
<P>Частоту дискретизации определить достаточно просто. В соответствии стеоремой 
Котельникова частота дискретизации должна быть вдвое больше максимальной частоты 
спектра звукового сигнала. Принятая в настоящее время частота дискретизации для 
аудио-CD составляет 44100 Гц, т.&nbsp;е. максимальная воспроизводимая частота 
звукового спектра составляет 20050 Гц, что превышает диапазон звуков, 
воспринимаемых ухом человека. Это обеспечивает идеальное звучание таких 
устройств. Частота дискретизации в телефонных сетях составляет 8000, что более 
чем в два раза превышает полосу пропускания телефонного канала, равную 3000 
Гц.</P>
<P>Количество уровней или разрядность квантования характеризует точность 
передачи уровня звукового сигнала. Действительно, при 256 уровнях квантования 
или представлении уровня звука с помощью 8 бит информации, величина погрешности 
квантования равна половине расстояния между соседними уровнями, так как к именно 
с этой точностью значение электрического напряжения может быть преобразовано в 
цифровой код (притом условии, что наименьшему уровню сигнала, обозначенному min 
на рис.&nbsp;3.4<IMG class=иконка 
onclick="openimgindex('../files/ris_3_4.gif','Рис. 03.04.','#E8E8E6')" 
alt="Рис. 03.04." src="part-004.files/illustration.gif" border=0>, соответствует 
цифровой код 00000000 или OOh, а наибольшему, обозначенному max, - 11111111 или 
Offh в 16-тиричной форме представления), т.&nbsp;е. отнесено к одному из двух 
соседних уровней, между которыми находится реальное значение сигнала. Сказанное 
иллюстрируется рис.&nbsp;3.4<IMG class=иконка 
onclick="openimgindex('../files/ris_3_4.gif','Рис. 03.04.','#E8E8E6')" 
alt="Рис. 03.04." src="part-004.files/illustration.gif" border=0>. Нетрудно 
сообразить, что при частоте дискретизации в 44100 Гц и квантовании каждого 
такого уровня 16-двоичными разрядами (4096 уровней квантования) хранение одной 
минуты цифрового аудио потребует около 5 Мб информационного пространства, а 30 
минут стереозвучания - около 300 Мб.</P>
<P>Закодированные описанным способом цифровые аудиоданные характеризуются 
значительной избыточностью, т.&nbsp;е. они могут быть упакованы, а затем 
восстановлены без всякой потери качества. Однако применение для сжатия цифрового 
аудио архиваторов обычного типа, таких как ARJ или ZIP, позволяет сжать исходный 
файл приблизительно лишь на 20%, т.&nbsp;е. оно неэффективно.</P>
<P>Основная идея сжатия аудиосигнала с потерями - пренебрежение теми фрагментами 
звука, которые лежат вне пределов восприятия человеческого уха. Первая такая 
возможность определяется маскирующим эффектом, в соответствии с которым сильные 
звуки приводят к невосприимчивости уха к слабым в том же самом частотном 
диапазоне. Поэтому слабые звуки можно кодировать с малым количеством уровней, в 
результате чего сокращается количество информации, используемое при кодировании 
звука.</P>
<P>Далее, весь частотный диапазон делится на подполосы, каждая из которых 
обрабатывается отдельно, причем маскирующий эффект используется как внутри 
каждой подполосы, так и между ними, т.&nbsp;е. очень мощный звук в одной из 
подполос приводит к маскированию во всех остальных. Затем используются 
особенности психоакустической модели человеческого слуха, в соответствии с 
которой тщательно сохраняются звуки хорошо воспринимаемых частот и удаляются 
звуки тех частот, которые не воспринимаются.</P>
<P>Для стереозвучания используется дополнительный прием, связанный с тем, что 
стереоэффект воспринимается человеком только в области средних звуковых частот. 
Поэтому сигнал низких и высоких частот передается в монофоническом звучании.</P>
<P>Наконец, используются специальные алгоритмы сжатия, основанные на высокой 
предсказуемости звукового сигнала, т.&nbsp;е. большом значении его коэффициента 
автокорреляции. Все перечисленные выше методы и алгоритмы позволяют получить 
десятикратный и более высокий коэффициент сжатия практически без потери качества 
звучания, что реализуется в формате МРЗ, разработанном <A name=i1219></A><A 
class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/companii.htm#i1219"><IMG 
class=иконка 
alt="Комитет MPEG (Motion Picture Expert Group - группа экспертов в области движущихся изображений)" 
src="part-004.files/companii.gif" border=0></A>комитетом MPEG (Motion Picture 
Expert Group - группа экспертов в области движущихся изображений).</P>
<P>Для воспроизведения звуковых файлов <A name=i1220></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1220"><IMG 
class=иконка alt="Формат MP3" src="part-004.files/predmetnyi.gif" 
border=0></A>формата МРЗ существует целая группа программ-плейеров. Список 
большинства из них можно найти на сайте <A class=переход 
href="http://www.dailymp3.com/" target=_blank>http://www.dailymp3.com/</A>. 
Самые популярные из них - это Winamp, включаемая в дистрибутив браузера Netscape 
Communicator начиная с версии 4.7, K-Jofol, которая является самым быстрым 
декодером звука, и NAD (или NADDY), являющаяся лидером по качеству 
воспроизведения звука. Другие плейеры используются гораздо реже.</P>
<P>Из форматов звуковых файлов следуетупомянуть AU для UNIX-подобных систем и 
платформ, WAV - стандарт звуковых файлов для операционной системы Windows, AIFF 
- стандарт звуковых файлов для платформы Apple Macintosh и MIDI (Musical 
Instrument Digital Interface) - формат электронных музыкальных инструментов. 
Кратко остановимся на каждом из них.</P>
<P><A name=i1222></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1222"><IMG 
class=иконка alt="Формат AU" src="part-004.files/predmetnyi.gif" 
border=0></A>Формат AU - один из наиболее распространенных в сети Интернет. В 
заголовочной части файла определяются параметры звуковых данных:</P>
<P>частота дискретизации и разрядность квантования, число звуковых каналов и 
метод кодирования. Наиболее распространенные файлы этого формата носят 
подзаголовок p-Law, рассчитанные на один звуковой канал с полосой 8000 Гц. 
Подзаголовок p-Law означает преобразование значений линейного квантования в 
логарифмическую шкалу значений, которая производится в соответствии с 
уравнением:</P>
<P><IMG class=формула alt="" src="part-004.files/f_s_84.gif" align=absMiddle 
border=0>,</P>
<P>где Y<SUB>&#956;</SUB> - значение в логарифмической шкале, m - исходное 
квантованное значение, m<SUB>p</SUB> - максимальная величина последнего 
значения, &#956; - постоянное значение, величина которого определяет область, в 
которой обеспечивается наиболее высокое качество звучания.</P>
<P>В формате AU наряду с 8-разрядным логарифмическим кодированием, предусмотрена 
возможность представления 16-разрядного линейного стереозвука, имеющего частоту 
дискретизации 22050 и 44100 Гц.</P>
<P><A name=i1227></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1227"><IMG 
class=иконка alt="Формат WAV" src="part-004.files/predmetnyi.gif" 
border=0></A>Формат WAV является основным на платформе Windows. Фактически это 
специальный тип файла формата RIFF (Resource Interchange File Format), который 
предназначен для хранения произвольных структурированных данных. Полное название 
такого формата - WAVE RIFF Microsoft Windows. Звуковые данные в таком файле 
обычно хранятся в РСМ-форме (РСМ - Pulse Code Modulation или импульсно-кодовая 
модуляция). Это означает запись в файле значений квантованного кода в 
последовательных точках дискретизации. В заголовочной части файла содержится 
основная информация об оцифрованном звуке, например число каналов и частота 
дискретизации, а также среднее число передаваемых в секунду байтов. Последняя 
характеристика позволяет программе воспроизведения звука выбрать требуемые 
размеры буфера для хранения звуковых данных. Большинство программ 
воспроизведения звука буфферизуют количество данных, соответствующее одной 
секунде непрерывного звучания.</P>
<P>Формат WAV поддерживает также ряд дополнительных блоков данных. К ним относят 
дополнительную информацию о сжатых звуковых данных. В частности, фирма IBM 
зарегистрировала специальные коды форматирования для сжатия в формате u-Law. 
Специальный блок позволяет помечать определенные позиции в потоке звуковых 
данных, что дает возможность синхронизировать звуковой ряд с видеорядом. 
Предусмотрены также блоки для размещения дополнительной текстовой 
информации.</P>
<P><A name=i1228></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1228"><IMG 
class=иконка alt="Формат Audio Interchange File Format (AIFF)" 
src="part-004.files/predmetnyi.gif" border=0></A>Формат Audio Interchange File 
Format (AIFF) преимущественно предназначен для работы на платформе Macintosh. Он 
во многом напоминает WAV, но позволяет, в отличие от последнего, хранить еще и 
шаблоны, т.&nbsp;е. образцы оцифрованного звука, которые можно использовать как 
шаблоны для отдельных нот. Специальная версия формата AIFF-C поддерживает 
сжатие.</P>
<P><A name=i1230></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1230"><IMG 
class=иконка alt="Musical Instrument Digital Interface (MIDI)" 
src="part-004.files/predmetnyi.gif" border=0></A>Musical Instrument Digital 
Interface (MIDI) - старейший звуковой формат, который позволил стандартизировать 
работу с различными электронными музыкальными инструментами. Стандарт базируется 
на пакетах данных, каждый из которых соответствует определенному MIDI-событию. 
Эти события можно разделить по каналам. Сложная среда такого файла может 
включать различную аппаратуру на каждом канале, причем отдельная часть будет 
отвечать за события на каждом канале. Такие файлы позволяют хранить не запись 
оцифрованного звука, а только ноты. В результате они гораздо компактнее других 
типов звуковых файлов. Недостатком такого формата является то, что он не 
определяет в явном виде всех тонкостей воспроизведения звука.</P>
<P><A name=i1231></A></P>
<DIV class=заголовок>
<DIV class=заголовок2>
<DIV class=заголовок2нур>3.5.</DIV>
<DIV class=заголовок2текст>Форматы представления анимации и цифрового 
видео</DIV></DIV></DIV>
<P></P>
<P><A name=i1232></A></P>
<DIV class=заголовок>
<DIV class=заголовок3>
<DIV class=заголовок3нур>3.5.1.</DIV>
<DIV class=заголовок3текст>Анимационные GIF-файлы</DIV></DIV></DIV>
<P></P>
<P>Известно, что <A name=i1233></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1233"><IMG 
class=иконка alt="Анимационные файлы в формате GIF" 
src="part-004.files/predmetnyi.gif" border=0></A>анимационные файлы в формате 
GIF, занимают почетное место на Web-страницах. Надо сказать, что в электронных 
изданиях любого типа анимационные файлы также используются достаточно широко. 
Это объясняется тем обстоятельством, что GIF-файлы непосредственно 
воспроизводятся большинством браузеров, причем информационный объем, занимаемый 
этими файлами, сравнительно невелик.</P>
<P>Искусственный мир компьютерной анимации лежит где-то посередине между миром 
неподвижных изображений, форматы которых были рассмотрены в <A class=переход 
href="http://www.hi-edu.ru/e-books/xbook119/01/part-004.htm#i1160">§ 3.3</A>, и 
реальным миром видеоизображений. Обычные мультипликационные фильмы состоят из 
множества рисованных изображений-кадров, в которых последовательно изменяются 
позиции объекта анимации. В результате при отображении с достаточной скоростью 
такой последовательности изображений у зрителя возникает впечатление движения 
объектов.</P>
<P>Возможности GIF-анимации связаны с тем, что этот формат позволяет хранить в 
одном файле несколько различных изображений. Единственный существенный 
недостаток GIF-файлов связан с применением индексированных цветов, для чего в 
файле используется глобальная и локальные цветовые палитры. Глобальная цветовая 
палитра хранит до 256 различных цветовых оттенков, каждый из которых может быть 
использован в любом из изображений, которое хранится в данном файле. Локальные 
палитры относятся к каждому отдельному изображению, т.&nbsp;е. хранимые в них 
цветовые оттенки не могут использоваться в других (не своих) изображениях.</P>
<P>Каждое такое изображение формирует отдельный кадр, причем задержка следующего 
кадра и его линейное смещением относительно предыдущего по каждой координате 
может регулироваться. Разрешение для всех изображений, входящих в данный файл, 
или количество пикселов по каждой координате должно в каждом файле 
поддерживаться постоянным.</P>
<P>Структура файлового формата GIF представлена на рис.&nbsp;3.5<IMG 
class=иконка 
onclick="openimgindex('../files/ris_3_5.gif','Рис. 03.05.','#E8E8E6')" 
alt="Рис. 03.05." src="part-004.files/illustration.gif" border=0>. Файл 
начинается с общего заголовка и дескриптора логического экрана, причем в 
последнем хранится ширина и высота каждого изображения в пикселах, индекс цвета 
фона и значение коэффициента сжатия. Там же задается размер глобальной цветовой 
таблицы, которая может и отсутствовать. В этом случае обязательно используется 
для каждого отдельного изображения локальная палитра. В большинстве случаев 
рекомендуется пользоваться именно глобальной палитрой, что экономит общее 
информационное пространство, занимаемое файлом.</P>
<P>После указанных трех элементов следуют наборы данных, характеризующие каждое 
из входящих в файл изображений. Каждое изображение в отдельности описывается 
локальным дескриптором и локальной цветовой палитрой, после которых следуют 
данные изображения. Последние обычно состоят из последовательностей пакетов 
данных, называемых блоками, причем в состав отдельных блоков могут входить и 
подблоки.</P>
<P>Малый размер GIF-файлов связан с использованием поблочного LZW-сжатия 
изображения, причем большинство сжимаемых блоков имеют размер 255 байтов. Каждый 
пиксел декодированного изображения характеризуется размером в 1 байт и 
содержитзначение индекса цвета, т.&nbsp;е. положение нужного цветового тона в 
глобальной или локальной цветовой палитре.</P>
<P>Имеется две разновидности формата GIF-файлов: первоначальная версия, 
названная GIF 87a, и выпущенная двумя годами позднее вторая версия, названная 
GIF 89а. Вторая версия добавила несколько новых возможностей, в том числе 
хранение текстовых и графических данных в одном файле. Для этого в описание 
файла добавлен специальный блок «Управляющие расширения», который размещен сразу 
после трех общих для всего файла элементов и предшествует описанию отдельных 
изображений в составе файла. На рис.&nbsp;3.6<IMG class=иконка 
onclick="openimgindex('../files/ris_3_6.gif','Рис. 03.06.','#E8E8E6')" 
alt="Рис. 03.06." src="part-004.files/illustration.gif" border=0>. этот блок 
выделен двумя жирными линиями. В состав управляющих расширений входят: 
расширение комментариев, расширение приложений и расширение управления графикой. 
В последнем указана, в частности, и величина задержки кадра в сотых долях 
секунды, а также значение индекса прозрачности цвета, который позволяет 
создавать новые анимационные эффекты. Кстати, большинство современных 
программ-аниматоров обеспечивает подготовку анимационных файлов именно в этом 
формате (<A class=переход 
href="http://www.hi-edu.ru/e-books/xbook119/01/part-006.htm#i1543">см. глава 
5</A>).</P>
<P><A name=i1242></A></P>
<DIV class=заголовок>
<DIV class=заголовок3>
<DIV class=заголовок3нур>3.5.2.</DIV>
<DIV class=заголовок3текст>Принципы представления цифрового 
видео</DIV></DIV></DIV>
<P></P>
<P>Обычные телевизионные видеоданные представляют собой поток аналоговых 
сигналов. Компьютерная обработка видеоинформации состоит в преобразовании их в 
цифровой формат с последующим хранением этих данных на жестком или компакт-диске 
или другом устройстве хранения информации. Оцифровка видеосигнала, как и 
оцифровка звука, включает те же две стадии: дискретизация данных аналогового 
видеопотока, т.&nbsp;е. снятие отсчетов с определенной частотой, и 
преобразование каждого такого отсчета в цифровой эквивалент или квантование.</P>
<P>При хранении оцифрованных данных в несжатом формате изображение размером 
400x300 пикселов с глубиной цвета 24 бита на пиксел, обновляемое с частотой 25 
Гц, потребует скорости передачи информации более 5,5 Мб/с. А хранение данных для 
показа 5-минутного ролика в указанном формате потребует информационное 
пространство, превышающее 1,6 Гб. Естественно, что при работе с такими данными 
невозможно обойтись без сжатия, однако и этом случае потребуется время, 
определенные вычислительные мощности на распаковку данных. Достичь оптимального 
сжатия можно путем совершенствования аппаратных или программных средств, а может 
быть, совместно тех и других.</P>
<P>В качестве аппаратных средств используются специальные видеопроцессоры, 
которые поддерживают высокоскоростную компрессию и декомпрессию данных, не 
загружая центральный процессор компьютера. Второй подход состоит в использовании 
специализированных методов программного сжатия и распаковки предварительно 
сжатых видеоданных.</P>
<P>Аналоговый видеосигнал включает в себя несколько различных компонентов, 
объединенных в единое целое. Такой составной видеосигнал малопригоден для 
оцифровки. Предварительно его следует разделить на так называемые базовые 
компоненты. Обычно компоненты представляют собой три различных сигнала, 
соответствующие определенной модели представления цветового пространства. Если в 
статической графике используется RGB-цветовое представление, то в цифровом видео 
чаще используется модель YUV. Видеопоследовательности отображаются в виде серии 
кадров или фреймов, каждый из которых, no-существу, является графическим 
изображением и включает в себя определенное число пикселов. Такой видеофрейм 
может быть сжат с помощью одного из алгоритмов сжатия изображений, с потерями 
или без потерь.</P>
<P>Так, применение дискретного косинусного преобразования, рассмотренного в <A 
class=переход 
href="http://www.hi-edu.ru/e-books/xbook119/01/part-004.htm#i1160">§ 3.3</A>, 
позволяет выделить высокочастотные составляющие пространственного спектра, 
которые практически не воспринимаются человеческим глазом и могут быть отброшены 
как избыточная информация. Затем фрейм может быть сжат с помощью одного из 
алгоритмов сжатия без потерь или за счет более сложной схемы, такой как JPEG. 
При внутрифреймовом кодировании достигается коэффициент сжатия в пределах от 20 
до 40. Еще большее значение этого коэффициента достигается при кодировании 
совокупности фреймов.</P>
<P>Различие между кадрами в обычной видеопоследовательности, как правило, 
невелико. Поэтому если кодировать не целиком каждый фрейм, а лишь отличия 
каждого последующего фрейма от предыдущего, то объем данных, характеризующий 
каждый фрейм, существенно уменьшится. Это так называемое межфреймовое 
дельта-сжатие или компенсация движения. Применение типовых схем компенсации 
движения позволяет довести суммарный коэффициент сжатия видеопоследовательности 
до 200 и более.</P>
<P><A name=i1245></A></P>
<DIV class=заголовок>
<DIV class=заголовок3>
<DIV class=заголовок3нур>3.5.3.</DIV>
<DIV class=заголовок3текст>Форматы цифрового видео</DIV></DIV></DIV>
<P></P>
<P>В этом разделе мы проанализируем характерные форматы представления цифрового 
видео, такие как QuickTime фирмы <A name=i1246></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/companii.htm#i1246"><IMG 
class=иконка alt=Apple src="part-004.files/companii.gif" border=0></A>Apple, 
MPEG комитета Motion Picture Expert Group и AVI фирмы <A name=i1247></A><A 
class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/companii.htm#i1247"><IMG 
class=иконка alt=Microsoft src="part-004.files/companii.gif" 
border=0></A>Microsoft.</P>
<P>Общая черта всех популярных форматов цифровых видеофайлов состоит в том, что 
основная часть любого из них - это система сжатия и восстановления видеоданных 
(compression/decompression - сокращенно codec), называемая кодеком. Обычно 
программы, поддерживающие основные форматы видеофайлов, позволяют замещать 
старые кодеки на новые, более совершенные, по мере разработки последних. Такой 
подход позволил легко адаптировать форматы видеофайлов и поддерживающие их 
программы к новым технологиям, как только те становились доступными.</P>
<P>Исходные релизы форматов QuickTime и VfW содержали очень простые кодеки, так 
как уровень развития компьютерной техники того периода не мог обеспечить 
применение более качественных методов, требовавших значительно более высоко 
уровня вычислительного ресурса. По мере совершенствования компьютерных 
технологий стало возможным использовать более эффективные методы сжатия и 
распаковки, что привело к применению новых кодеков.</P>
<P>К наиболее известным и широко применяемым форматам следует отнести <A 
name=i1248></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1248"><IMG 
class=иконка alt="Формат QuickTime" src="part-004.files/predmetnyi.gif" 
border=0></A>QuickTime фирмы Apple. Под этим именем объединены два различных 
понятия. Для пользователей - это стандартный способ работы с потоковыми данными, 
такими как видео и аудио. Для производителей - это гибкое средство разработки 
приложений, совершенствующееся по мере развития технологий. Формат пригоден для 
работы с любой времязависимой информацией. Видеофильмы в этом формате могут 
содержать несколько видео- и аудиодорожек. Таким образом, фильм в этом формате 
может иметь многоязыковую поддержку, а также содержать MIDI-информацию для 
управления внешним синтезатором. Продолжительность событий на каждой из дорожек 
также может быть различной. Можно также накладывать друг на друга несколько 
видеодорожек.</P>
<P>Формат был создан первоначально для платформы Macintosh для хранения аудио- и 
видеоданных на магнитных и оптических носителях. Сейчас он используется и в 
оболочке Windows. Предусмотрен специальный набор средств, называемый Movie 
Toolbox, который обеспечивает редактирование и модификацию видеофильмов в данном 
формате, т.&nbsp;е. можно вклеивать, вырезать, копировать и редактировать 
отдельные видеофрагменты таким же образом, как это делается при профессиональном 
монтаже обычного кино. Данные в этом формате можно хранить на магнитном или 
компакт-диске в виде обычного файла, а также помещать на цифровой 
видеомагнитофон.</P>
<P>Набор средств Movie Toolbox определяет шесть методов сжатия, используемых при 
хранении видеофильмов в этом формате. Перечислим эти методы.</P>
<P><A name=i1250></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1250"><IMG 
class=иконка alt="Photo Compressor" src="part-004.files/predmetnyi.gif" 
border=0></A>Photo Compressor - предназначен для сжатия отдельных изображений с 
глубиной цвета от 8 до 24 бит (для сжатия фреймов или видеокадров обычно 
используется метод JPEG).</P>
<P><A name=i1251></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1251"><IMG 
class=иконка alt="Video Compressor" src="part-004.files/predmetnyi.gif" 
border=0></A>Video Compressor - метод сжатия видеопоследовательностей с 
потерями, основанный на преобразовании пространственного спектра и временном 
сжатии. Глубина цвета - 24 бита. Метод отличается высокой скоростью распаковки 
сжатого видеоряда.</P>
<P><A name=i1252></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1252"><IMG 
class=иконка alt="Compact Video Compressor" src="part-004.files/predmetnyi.gif" 
border=0></A>Compact Video Compressor - также метод сжатия с потерями, пригодный 
для 16 и 24-битного представления цвета. Отличается более высоким качеством и 
большим коэффициентом сжатия по сравнению с предыдущим, но требует значительных 
затрат времени на выполнение начального сжатия информации.</P>
<P><A name=i1253></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1253"><IMG 
class=иконка alt="Animation Compressor" src="part-004.files/predmetnyi.gif" 
border=0></A>Animation Compressor - метод сжатия анимационных 
последовательностей, основанный на применении алгоритма группового кодирования, 
рассмотренного в <A class=переход 
href="http://www.hi-edu.ru/e-books/xbook119/01/part-004.htm#i1160">§ 3.3</A>. 
Используется как в варианте с потерями, так и без потерь. Работает с любой 
глубиной цвета.</P>
<P><A name=i1255></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1255"><IMG 
class=иконка alt="Graphic Compressor" src="part-004.files/predmetnyi.gif" 
border=0></A>Graphic Compressor - предназначен для быстрого сжатия и распаковки 
8-битовых неподвижных изображений и их последовательностей. Коэффициент сжатия 
невелик. Применяется при хранении информации на устройствах с низкой скоростью 
обмена данными, типа компакт- или DVD-дисков.</P>
<P><A name=i1256></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1256"><IMG 
class=иконка alt="Raw Compressor" src="part-004.files/predmetnyi.gif" 
border=0></A>Raw Compressor - программа предварительной обработки изображений, 
позволяющая получить нужную глубину цвета перед тем, как сжать его одним из 
описанных выше методов.</P>
<P>Аудиоданные в этом формате кодируются в виде последовательности квантованных 
дискретных выборок в формате AIFF, как это было описано в <A class=переход 
href="http://www.hi-edu.ru/e-books/xbook119/01/part-004.htm#i1199">§ 3.4</A> или 
непосредственно в ресурсе звуковой среды видеофильма.</P>
<P>Основная структурная единица файлов этого формата носит название атом. 
Различают атомы-контейнеры и атомы-листья. Контейнеры содержат другие атомы, в 
том числе и атомы-контейнеры. А атомы-листья содержат только данные. Каждый 
поток данных файла хранится в отдельном атоме дорожки. Дополнительные сведения о 
данном формате можно почерпнуть из книг <IMG class=иконка 
onclick="showlitlist(new Array('Мюррей Джеймс Д., Райпер Уильям вам. Энциклопедия форматов графических файлов.- Киев: BHV-Киев, 1997.','','Сенцл Т. Форматы файлов Интернет.- СПб.: Питер, 1997.',''));" 
alt="ссылка на источники литературы" src="part-004.files/litlist.gif"> и на 
сайте <A class=переход href="http://www.quicktime.apple.com/" 
target=_blank>http://www.quicktime.apple.com/</A>.</P>
<P>Комитет Motion Picture Expert Group, как уже ранее упоминалось, был создан 
международной ассоциацией по стандартизации специально для создания 
высококачественных стандартов сжатия цифрового видео. И действительно был 
разработан ряд стандартов, таких как MPEG-1, MPEG-2, MPEG-4 для воспроизведения 
видео с различной скоростью и качеством на платформах Windows, Macintosh и UNIX, 
а также рекомендован определенный набор методов сжатия видео- и аудиоданных.</P>
<P><A name=i1262></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1262"><IMG 
class=иконка alt="Формат MPEG-1" src="part-004.files/predmetnyi.gif" 
border=0></A>Формат MPEG-1 определяет файлы для хранения кодируемого 
видеоматериала (расширение mpv) и формат системного потока для объединения 
видео- и аудиоданных (расширение mps), а также три формата для кодирования 
только аудио (mpa, mp2и l3). <A name=i1263></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1263"><IMG 
class=иконка alt="Формат MPEG-2" src="part-004.files/predmetnyi.gif" 
border=0></A>Формат MPEG-2 предназначен для вещания и мало пригоден для 
персональных компьютеров. <A name=i1264></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1264"><IMG 
class=иконка alt="Формат MPEG-4" src="part-004.files/predmetnyi.gif" 
border=0></A>MPEG-4 предназначен для передачи низкокачественного видео для 
систем видеотелефонии и видеоконференций.</P>
<P>Стандарты MPEG определяют только способ хранения данных, но не указывают, как 
были получены данные в этом формате. Все форматы MPEG с потерями. Для 
кодирования данных в этом формате вычислительных ресурсов ПК недостаточно. 
Корректная обработка MPEG на ПК без дополнительных аппаратных средств также 
связана с определенными трудностями. Они могут привести к задержкам или 
ухудшению качества воспроизведения.</P>
<P>Формат MPEG хранит несколько типов кадров. Независимые или ключевые кадры 
(l-frames) не требуют никакой дополнительной информации для декодирования. При 
их сжатии используется методика, аналогичная JPEG-сжатию, но более эффективная. 
Предсказуемые кадры (P-frames) хранят различие между предыдущим независимым или 
предсказуемым кадром и текущим кадров (то, что в <A class=переход 
href="http://www.hi-edu.ru/e-books/xbook119/01/part-004.htm#i1242">§ 3.5.2</A> 
определялось как межфреймовое дельта-сжатие или компенсация движения). 
Дальнейшее улучшение качества сжатия достигается путем использования 
двунаправленных предсказаний движения или B-frames. В нем предсказание 
сохраняется как разности текущего как с предыдущим, так и с последующим кадрами, 
вследствие чего последовательность кадров может иногда нарушаться.</P>
<P>При кодировании звука MPEG отбрасывает ряд избыточных данных, опираясь на 
особенности человеческого слуха, о которых уже говорилось в <A class=переход 
href="http://www.hi-edu.ru/e-books/xbook119/01/part-004.htm#i1199">§ 3.4</A>. В 
результате достигается гораздо более высокий уровень сжатия по сравнению с РСМ и 
u-Law, о которых говорилось в предыдущем параграфе. Оценивая данный формат, 
следует отметить, что он гарантирует самое высокое качество как видео, так и 
аудио, но требует наличия большого количества вычислительных ресурсов.</P>
<P><A name=i1267></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/predmetnyi.htm#i1267"><IMG 
class=иконка alt="Формат Audio/Video Interleave (AVI)" 
src="part-004.files/predmetnyi.gif" border=0></A>Формат Audio/Video Interleave 
(AVI) фирмы <A name=i1268></A><A class=указатель 
href="http://www.hi-edu.ru/e-books/xbook119/01/companii.htm#i1268"><IMG 
class=иконка alt=Microsoft src="part-004.files/companii.gif" 
border=0></A>Microsoft получил свое название из-за того, что в нем аудио- и 
видеоданные расположены перемежающимися слоями. В заголовке файла хранится 
множество различной информации, в том числе, о частоте следования и размере 
кадров. Программа воспроизведения должна извлечь данные видеокадра и связанного 
с ним звукового сопровождения, затем передать звук на звуковую карту, а 
видеоданные распаковать и воспроизвести на экране монитора.</P>
<P>Поддержка равномерного потока данных требует внимания ко всем частям системы 
воспроизведения для того, чтобы сохранить синхронизацию независимо от задержек 
при распаковке видеоданных.</P>
<P>В структуре AVI-файла содержатся два блока LIST. Первый из них (LIST hdrl) 
содержит информацию о фильме в целом и каждом из его потоков, включая разрешение 
экрана и частоту кадров видеоданных, а также формат, частоту оцифровки и 
разрядность квантованных аудиоданных. Второй блок LIST movi хранит сами видео- и 
аудиоданные в виде отдельных потоков, сегментированных на блоки выборки. 
Интересно отметить, что в формате AVI звуковые данные опережают видео на 0,75 
с.</P></DIV></BODY></HTML>
